# Todo WebApi Documentation 
An ASP.NET Web Api for a Todo Application with CRUD

# Requirements 
- .NET 9.0 SDK (https://dotnet.microsoft.com/en-us/download)
- MySQL Server 8.0.40 or higher (https://dev.mysql.com/downloads/installer/)

# Installation 
1. On your terminal, clone the repository : `git clone https://github.com/sauljacobson/TodoApi.git`
2. Change directory to `TodoApi`
3. Configure the connection string in the `appsettings.json` file under the `DefaultConnection`:
   `server=localhost;port=3306;database=tododb;user=your_username;password=your_password;`
   - __port__: the default is 3306. Check if your MySQL config if it is different
   - __username__ & __password__: replace with the credentials you set in your MySQL config
4. Install the EF tool by entering the following command: `dotnet tool install --global dotnet-ef`
5. Run `dotnet ef database update` to apply migrations to the database
6. Run `dotnet run`
7. Copy the localhost port generated by the command (`http://localhost:xxxx`)
8. Open up your web browser and on the search bar, paste the port and add /swagger at the end (`http://localhost:xxxx/swagger`)
   to display the SwaggerUI interactive page

# Authentication 
The Web Api uses JSON Web Token (JWT) Bearer for authentication. A token must be passed 
in order to access the TodoItem endpoints. 

# Endpoints 
## Todo 
Represents the `Todo` items of a `User`. The `Todo` endpoints are only accessible 
if a `User` is logged-in, which in this case, the `User` supplies a valid token to 
grant authorization. 

| __Method__ |   __Endpoint__  | __Function__ |
| :--------  | :-----------    | :----------- |
| `GET`      | `api/Todo`      | Retrieves all `Todos` | 
| `GET`      | `api/Todo/{id}` | Retrieves a specific `Todo` | 
| `POST`     | `api/Todo`      | Adds a new `Todo` of a `User` | 
| `PUT`      | `api/Todo/{id}` | Edits a specific `Todo` | 
| `DELETE`   | `api/Todo/{id}` | Deletes a specific `Todo` | 


## User 
A `User` has a collection of `Todos`. In order to manage `Todos`, a 
`User` must register and login through the enpoints. The `User` model 
inherits from `IdentityUser` class. A __token__ can be acquired by successfully 
running the `api/User/login` endpoint and then passing it into the input field 
under the Authorization button, which can be found on the top-right of the 
SwaggerUI page.

| __Method__ |   __Endpoint__  | __Function__ |
| :--------  | :-----------    | :----------- |
| `GET`      | `api/User`      | Retrieves all registered `Users` | 
| `POST`     | `api/User/login` | Returns a `User`'s credentials and token | 
| `POST`     | `api/User/register` | Adds a new `User` | 
| `DELETE`   | `api/User/{id}` | Deletes a specific `User` | 
